<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Switch Troubleshooting Playbook v3.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --bg-light: #ffffff;
            --text-light: #1f2937;
            --bg-dark: #1f2937;
            --text-dark: #f3f4f6;
            --accent-color: #3b82f6;
            --border-light: #e5e7eb;
            --border-dark: #4b5563;
        }
        .dark {
            --bg-light: #1f2937;
            --text-light: #f3f4f6;
            --bg-dark: #ffffff;
            --text-dark: #1f2937;
            --border-light: #4b5563;
        }
        body {
            background-color: var(--bg-light);
            color: var(--text-light);
            font-family: 'Inter', sans-serif;
        }
        details summary {
            cursor: pointer;
            font-weight: 600;
            padding: 0.75rem 1rem;
            background-color: var(--border-light);
            border-radius: 0.5rem;
            transition: background-color 0.2s;
        }
        details[open] summary {
            background-color: var(--accent-color);
            color: white;
        }
        .copy-btn {
            background-color: #4b5563;
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            font-size: 0.75rem;
            margin-left: 8px;
            transition: background-color 0.2s;
        }
        .copy-btn:hover {
            background-color: #6b7280;
        }
        .copied-feedback {
            font-size: 0.75rem;
            color: var(--accent-color);
            margin-left: 8px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .cue {
            display: flex;
            align-items: start;
            margin-bottom: 0.5rem;
        }
        .cue-icon {
            margin-right: 0.5rem;
            margin-top: 0.25rem;
        }
        .hidden-by-search {
            display: none;
        }
    </style>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script>
        // Check for saved theme in localStorage and apply it
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.classList.add('dark');
        }

        function toggleTheme() {
            const html = document.documentElement;
            html.classList.toggle('dark');
            // Save the theme preference
            if (html.classList.contains('dark')) {
                localStorage.setItem('theme', 'dark');
            } else {
                localStorage.setItem('theme', 'light');
            }
        }

        function copyToClipboard(element, button) {
            const textToCopy = element.textContent;
            // A temporary textarea is used to perform the copy command
            const textArea = document.createElement('textarea');
            textArea.value = textToCopy;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            // Visual feedback
            const feedback = button.nextElementSibling;
            button.textContent = 'Copied!';
            feedback.style.opacity = '1';

            setTimeout(() => {
                button.textContent = 'Copy';
                feedback.style.opacity = '0';
            }, 2000);
        }

        function filterPlaybook() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const sections = document.querySelectorAll('.troubleshooting-section');

            sections.forEach(section => {
                const title = section.querySelector('summary').textContent.toLowerCase();
                const content = section.querySelector('.troubleshooting-content').textContent.toLowerCase();

                if (title.includes(searchTerm) || content.includes(searchTerm)) {
                    section.classList.remove('hidden-by-search');
                } else {
                    section.classList.add('hidden-by-search');
                }
            });
        }
    </script>
</head>
<body class="p-4 sm:p-6 lg:p-8">

    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <header class="flex justify-between items-center mb-6">
            <div>
                <h1 class="text-2xl sm:text-3xl font-bold">Interactive Switch Playbook v3.0</h1>
                <p class="text-sm text-gray-500 dark:text-gray-400">A Symptom-Driven Guide for Network Engineers</p>
            </div>
            <button onclick="toggleTheme()" class="p-2 rounded-md bg-gray-200 dark:bg-gray-700">
                <svg id="theme-icon-light" class="h-6 w-6 dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                <svg id="theme-icon-dark" class="h-6 w-6 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            </button>
        </header>
        
        <!-- Search Bar -->
        <div class="mb-6">
            <input type="text" id="search-input" onkeyup="filterPlaybook()" placeholder="Search symptoms or commands..." class="w-full p-2 border rounded-md bg-gray-100 dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Golden Rules & Legend -->
        <div class="grid md:grid-cols-2 gap-4 mb-6">
            <details class="troubleshooting-section">
                <summary>Golden Rules of Troubleshooting</summary>
                <div class="troubleshooting-content p-4 border border-t-0 rounded-b-md dark:border-gray-700">
                    <ul class="list-disc list-inside space-y-2">
                        <li><b>Check the Physical Layer First:</b> A huge percentage of "network" problems are caused by faulty cables.</li>
                        <li><b>Make One Change at a Time:</b> Don't change five things at once. Make a single change and test the result.</li>
                        <li><b>Document as You Go:</b> Note what you've changed and what you've tested.</li>
                        <li><b>Know the Recent Changes:</b> The problem was likely caused by the last thing that was changed on the network.</li>
                    </ul>
                </div>
            </details>
            <details class="troubleshooting-section">
                <summary>Cue Legend</summary>
                <div class="troubleshooting-content p-4 border border-t-0 rounded-b-md dark:border-gray-700">
                    <ul class="space-y-2">
                        <li>ðŸŸ¢ <b>Green (OK/Proceed):</b> The check passed or the result is expected. Move to the next step.</li>
                        <li>ðŸŸ¡ <b>Yellow (Investigate):</b> A potential issue was found that requires further investigation.</li>
                        <li>ðŸ”´ <b>Red (Critical/Action Required):</b> A critical error was found. This is the likely cause.</li>
                    </ul>
                </div>
            </details>
        </div>

        <!-- Immediate Triage -->
        <details class="troubleshooting-section mb-4" open>
            <summary>1. Immediate Triage: The First 5 Minutes</summary>
            <div class="troubleshooting-content p-4 border border-t-0 rounded-b-md dark:border-gray-700">
                <p class="mb-4">Use this flowchart for any high-priority switch issue to rule out the most common problems instantly.</p>
                <img src="https://i.imgur.com/8aYq2hB.png" alt="Immediate Triage Flowchart" class="w-full rounded-md">
            </div>
        </details>

        <!-- Symptom-Based Checklists -->
        <h2 class="text-xl font-bold mt-8 mb-4 border-b pb-2 dark:border-gray-700">2. Symptom-Based Troubleshooting</h2>

        <!-- Symptom: Gibberish -->
        <details class="troubleshooting-section mb-4">
            <summary>Symptom: Gibberish or Garbled Console Output</summary>
            <div class="troubleshooting-content p-4 border border-t-0 rounded-b-md dark:border-gray-700">
                <table class="w-full text-sm text-left">
                    <thead class="text-xs uppercase bg-gray-100 dark:bg-gray-800">
                        <tr><th class="p-2 w-1/12">Step</th><th class="p-2 w-3/12">What to Do</th><th class="p-2 w-4/12">How to Do It</th><th class="p-2 w-4/12">What It Means</th></tr>
                    </thead>
                    <tbody>
                        <tr class="border-b dark:border-gray-700"><td class="p-2 align-top"><input type="checkbox" class="h-4 w-4 rounded"></td><td class="p-2 align-top">Identify the Symptom</td><td class="p-2 align-top">You see random characters like `â–’â–’â–’` or `[g@rbL$d]`.</td><td class="p-2 align-top"><div class="cue"><span class="cue-icon">ðŸ”´</span><span>This is a classic baud rate mismatch.</span></div></td></tr>
                        <tr class="border-b dark:border-gray-700"><td class="p-2 align-top"><input type="checkbox" class="h-4 w-4 rounded"></td><td class="p-2 align-top">Change the Baud Rate</td><td class="p-2 align-top">In your terminal software (e.g., PuTTY), change "Speed (baud)" to <b>9600</b>, then <b>115200</b>.</td><td class="p-2 align-top">Cycle through the rates in Appendix B until the text is readable.</td></tr>
                        <tr class="border-b dark:border-gray-700"><td class="p-2 align-top"><input type="checkbox" class="h-4 w-4 rounded"></td><td class="p-2 align-top">Verify Other Serial Settings</td><td class="p-2 align-top">Confirm settings are: Data bits: 8, Stop bits: 1, Parity: None, Flow control: None.</td><td class="p-2 align-top">Incorrect settings can also cause issues.</td></tr>
                    </tbody>
                </table>
            </div>
        </details>
        
        <!-- Symptom: Single User Connectivity -->
        <details class="troubleshooting-section mb-4">
            <summary>Symptom: No Connectivity (Single User/Device)</summary>
            <div class="troubleshooting-content p-4 border border-t-0 rounded-b-md dark:border-gray-700">
                <table class="w-full text-sm text-left">
                     <thead class="text-xs uppercase bg-gray-100 dark:bg-gray-800">
                        <tr><th class="p-2 w-1/12">Step</th><th class="p-2 w-3/12">What to Do</th><th class="p-2 w-4/12">How to Do It</th><th class="p-2 w-4/12">What It Means</th></tr>
                    </thead>
                    <tbody>
                        <tr class="border-b dark:border-gray-700"><td class="p-2 align-top"><input type="checkbox" class="h-4 w-4 rounded"></td><td class="p-2 align-top">Check Physical Layer</td><td class="p-2 align-top">Visually inspect cable and link lights.</td><td class="p-2 align-top"><div class="cue"><span class="cue-icon">ðŸŸ¢</span><span><b>Solid Green Light:</b> Link is up.</span></div><div class="cue"><span class="cue-icon">ðŸ”´</span><span><b>No Light/Amber Light:</b> Link is down. Try a different port/cable.</span></div></td></tr>
                        <tr class="border-b dark:border-gray-700"><td class="p-2 align-top"><input type="checkbox" class="h-4 w-4 rounded"></td><td class="p-2 align-top">Verify Port Status</td><td class="p-2 align-top"><code class="bg-gray-200 dark:bg-gray-700 p-1 rounded">show interface status</code><button class="copy-btn" onclick="copyToClipboard(this.previousElementSibling, this)">Copy</button><span class="copied-feedback"></span></td><td class="p-2 align-top"><div class="cue"><span class="cue-icon">ðŸŸ¢</span><span><b>Status "connected":</b> Port is active.</span></div><div class="cue"><span class="cue-icon">ðŸŸ¡</span><span><b>Status "disabled" or "err-disabled":</b> Port was shut down. Investigate why.</span></div></td></tr>
                        <tr class="border-b dark:border-gray-700"><td class="p-2 align-top"><input type="checkbox" class="h-4 w-4 rounded"></td><td class="p-2 align-top">Check VLAN Assignment</td><td class="p-2 align-top"><code class="bg-gray-200 dark:bg-gray-700 p-1 rounded">show vlan brief</code><button class="copy-btn" onclick="copyToClipboard(this.previousElementSibling, this)">Copy</button><span class="copied-feedback"></span></td><td class="p-2 align-top"><div class="cue"><span class="cue-icon">ðŸŸ¢</span><span>Port is in the correct VLAN.</span></div><div class="cue"><span class="cue-icon">ðŸ”´</span><span>Port is in the wrong VLAN. Move it.</span></div></td></tr>
                        <tr class="border-b dark:border-gray-700"><td class="p-2 align-top"><input type="checkbox" class="h-4 w-4 rounded"></td><td class="p-2 align-top">Investigate Port Security</td><td class="p-2 align-top"><code class="bg-gray-200 dark:bg-gray-700 p-1 rounded">show port-security interface [name]</code><button class="copy-btn" onclick="copyToClipboard(this.previousElementSibling, this)">Copy</button><span class="copied-feedback"></span></td><td class="p-2 align-top"><div class="cue"><span class="cue-icon">ðŸŸ¢</span><span>Port security is not the issue.</span></div><div class="cue"><span class="cue-icon">ðŸ”´</span><span>Port is in "secure-shutdown". Clear violation.</span></div></td></tr>
                    </tbody>
                </table>
            </div>
        </details>
        
        <!-- Add other symptom sections here following the same pattern -->

        <!-- Reference Materials -->
        <h2 class="text-xl font-bold mt-8 mb-4 border-b pb-2 dark:border-gray-700">3. Reference Materials</h2>
        <details class="troubleshooting-section mb-4">
            <summary>Appendix A: Recommended Tools</summary>
            <div class="troubleshooting-content p-4 border border-t-0 rounded-b-md dark:border-gray-700">
                <ul class="list-disc list-inside space-y-2">
                    <li><b>Physical:</b> Cable tester, loopback plugs, console cable kit, spare patch cables, known-good PoE device.</li>
                    <li><b>Software:</b> PuTTY (or another terminal client), TFTP server, Wireshark.</li>
                </ul>
            </div>
        </details>
        <details class="troubleshooting-section mb-4">
            <summary>Appendix B: Standard Baud Rates</summary>
            <div class="troubleshooting-content p-4 border border-t-0 rounded-b-md dark:border-gray-700">
                <table class="w-full text-sm text-left">
                    <thead class="text-xs uppercase bg-gray-100 dark:bg-gray-800">
                        <tr><th class="p-2">Baud Rate (bps)</th><th class="p-2">Common Use</th></tr>
                    </thead>
                    <tbody>
                        <tr class="border-b dark:border-gray-700"><td class="p-2">9600</td><td class="p-2"><b>Default console rate. START HERE.</b></td></tr>
                        <tr class="border-b dark:border-gray-700"><td class="p-2">115200</td><td class="p-2"><b>Modern console high speed. TRY THIS SECOND.</b></td></tr>
                        <tr class="border-b dark:border-gray-700"><td class="p-2">19200</td><td class="p-2">Faster console</td></tr>
                    </tbody>
                </table>
            </div>
        </details>
    </div>

</body>
</html>
